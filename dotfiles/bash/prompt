#!/bin/bash

# set up a few colors for setting the prompt.
local GREY='\[\e[0;37m\]'
local GREEN='\[\e[1;32m\]'
local BLUE='\[\e[1;34m\]'
local CYAN='\[\e[1;36m\]'
local RESET='\[\e[0;00m\]'

# start and end tags to put things into the titlebar.
local TSTART='\[\e]0;'
local TEND='\a\]'

function _git_branch {
    (git rev-parse --git-dir > /dev/null 2>&1) && \
        echo -n ":$(git symbolic-ref --short HEAD)" &&
        [[ -n $(git status --porcelain) ]] && echo -n '*'
}

PS1="\
${TSTART}\u@\h${TEND}\
${GREEN}\u@\h\
${RESET}:${BLUE}\w\
${CYAN}\$(_git_branch)\
${RESET}\$ "

# this variable is used to specify a command which is called every time
# before displaying a prompt. if I really wanted this, I'd set it
# myself, and Macs use this to update the terminal title... which I'd
# rather it not do.
unset PROMPT_COMMAND

